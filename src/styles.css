/* =================================================================
   Global Settings: Colors, Typography, and Base Resets
================================================================= */

/* Define CSS variables for easy maintenance and color theme switching */
:root {
  --color-primary: #3b82f6;        /* Blue */
  --color-secondary: #1e293b;      /* Dark Slate */
  --color-background: #f1f5f9;     /* Light Gray Background */
  --color-text: #1e293b;
  --color-light-text: #fff;
  --color-gray-300: #e2e8f0;       /* Lighter Gray */
  --color-gray-400: #94a3b8;       /* Medium Gray */
  --spacing-default: 2rem;         /* Standard padding for large screens */
  --spacing-mobile: 1rem;          /* Standard padding for small screens */
}

/* Universal box-sizing reset and margin removal for full-width control */
* {
margin: 0;
padding: 0;
box-sizing: border-box;
/* Modern, performant system font stack */
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
}

body {
background: var(--color-background);
color: var(--color-text);
min-height: 100vh;
}

/* Main app container to hold the full-width layout */
.app-container {
  width: 100%;
  min-height: 100vh;
}

/* Button base styles with a custom, smoother cubic-bezier transition */
button {
cursor: pointer;
outline: none;
border: none;
transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* =================================================================
 App Header and Navigation
================================================================= */

/* Header is now guaranteed full width with padding on the sides */
.app-header {
background: var(--color-light-text);
border-bottom: 1px solid var(--color-gray-300);
position: sticky;
top: 0;
z-index: 50;
box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
padding: 1rem var(--spacing-default); /* Full-width padding */
display: flex;
justify-content: space-between;
align-items: center;
width: 100%; /* Explicitly ensure full width */
}

/* Left side of the header: Logo and Title */
.header-left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.logo-icon-wrapper {
  color: var(--color-primary);
}

.app-header h1 {
font-size: 1.5rem;
font-weight: 800;
letter-spacing: -0.02em;
}

.app-header p {
font-size: 0.875rem;
color: #64748b;
font-weight: 400;
}

/* "Add City" Call-to-Action Button */
.add-city-btn {
display: flex;
align-items: center;
gap: 0.5rem;
background: var(--color-secondary);
color: var(--color-light-text);
padding: 0.75rem 1.5rem;
border-radius: 9999px;
font-weight: 600;
box-shadow: 0 4px 8px rgba(30, 41, 59, 0.2);
}

.add-city-btn:hover {
background: #0f172a;
box-shadow: 0 8px 15px rgba(30, 41, 59, 0.3);
transform: translateY(-2px);
}

.add-city-btn:active {
transform: scale(0.98);
box-shadow: 0 2px 5px rgba(30, 41, 59, 0.2);
}

/* =================================================================
 Main Content Layout: Full Width Grid
================================================================= */

/* Main content wrapper, 100% width with generous side padding */
.main-grid {
width: 100%;
padding: 2.5rem var(--spacing-default);
margin: 0; /* Critical for full width layout */
}

/* Grid container for the City Cards (Flexible and responsive) */
.city-grid-wrapper {
  display: grid;
  /* Cards fill available width, min 300px each */
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  width: 100%; /* Ensures the grid itself stretches */
}

/* =================================================================
 City Card Styles (Dynamic Backgrounds and Effects)
================================================================= */

.city-card {
position: relative;
border-radius: 2rem;
overflow: hidden;
height: 18rem;
/* Smoother, engaging hover transition */
transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.35s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.city-card:hover {
transform: translateY(-5px) scale(1.01); /* Lift and slight scale for depth */
box-shadow: 0 15px 40px rgba(0,0,0,0.2);
}

/* Ensures content sits above dynamic background art */
.card-content-wrapper {
  position: relative;
  z-index: 10;
  padding: 2rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* --- Phase Gradient Styles --- */
.city-card.sunrise {
background: linear-gradient(135deg, #ff9a85 0%, #ff5c77 50%, #4f46e5 100%);
color: var(--color-light-text);
border: 2px solid rgba(255, 255, 255, 0.3); /* Subtle glass-like border */
}

.city-card.day {
background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #0ea5e9 100%);
color: var(--color-light-text);
border: 2px solid rgba(255, 255, 255, 0.3);
}

.city-card.sunset {
background: linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #f97316 100%);
color: var(--color-light-text);
border: 2px solid rgba(255, 255, 255, 0.3);
}

.city-card.night {
background: linear-gradient(135deg, #1f2937 0%, #0f172a 70%, #000000 100%);
color: #f3f4f6;
border: 2px solid rgba(255, 255, 255, 0.1);
}

/* --- Card Content --- */
.card-header-section {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  position: relative;
}

.city-name-title {
font-size: 1.5rem;
font-weight: 800;
display: flex;
align-items: center;
gap: 0.75rem;
text-shadow: 0 2px 6px rgba(0,0,0,0.3);
}

.city-country {
font-size: 0.875rem;
opacity: 0.95;
}

.card-time-section {
  margin-top: 0.5rem;
}

.city-card .time {
font-size: 3.5rem;
font-weight: 900;
line-height: 0.9;
text-shadow: 0 3px 8px rgba(0,0,0,0.4);
letter-spacing: -0.05em;
}

.city-card .date {
font-size: 0.875rem;
opacity: 0.9;
text-transform: uppercase;
letter-spacing: 0.1em;
margin-top: 0.5rem;
font-weight: 500;
}

/* --- Weather Info (Glassmorphism Effect) --- */
.weather-info {
display: flex;
justify-content: space-between;
align-items: center;
backdrop-filter: blur(10px); /* Key for glass effect */
background: rgba(255,255,255,0.15);
padding: 0.75rem 1.5rem;
border-radius: 1.5rem;
border: 1px solid rgba(255,255,255,0.3);
box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.weather-summary {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.weather-icon-small {
  width: 2.5rem;
  height: 2.5rem;
}

.weather-info .temp {
font-weight: 800;
font-size: 1.5rem;
}

.weather-info .condition {
font-size: 0.875rem;
opacity: 0.95;
}

.weather-details {
  display: flex;
  gap: 1rem;
  font-size: 0.75rem;
  opacity: 0.9;
}

.humidity {
display: flex;
align-items: center;
gap: 0.4rem;
font-weight: 500;
}

/* --- Remove Button (Hidden until hover) --- */
.city-remove-btn {
position: absolute;
top: -0.5rem;
right: -0.5rem;
background: rgba(255,255,255,0.3);
border-radius: 9999px;
padding: 0.5rem;
opacity: 0;
color: var(--color-light-text);
transition: opacity 0.3s ease, transform 0.2s ease;
}

.city-card:hover .city-remove-btn {
opacity: 1;
}

.city-remove-btn:hover {
background: rgba(255,255,255,0.6);
transform: rotate(15deg);
}

/* =================================================================
 Dynamic Background Art for Cards (Stars and Sun Glow)
================================================================= */

/* Base layer for dynamic effects */
.card-background-art {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

/* Star twinkle effect for 'night' cards */
.night-star-effect {
  position: absolute;
  top: 1rem;
  right: 2rem;
  font-size: 1.5rem;
  color: var(--color-light-text);
  animation: twinkle 4s infinite alternate;
}

/* Soft, blurred sun/glow effect for 'day' and 'sunrise/sunset' cards */
.day-sun-effect {
  position: absolute;
  top: -20px;
  right: -20px;
  width: 8rem;
  height: 8rem;
  background: var(--color-light-text);
  border-radius: 50%;
  filter: blur(3rem);
  opacity: 0.4;
  animation: pulse 6s infinite ease-in-out;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 0.4; }
  50% { transform: scale(1.1); opacity: 0.6; }
  100% { transform: scale(1); opacity: 0.4; }
}
@keyframes twinkle {
  0% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0.5; transform: scale(1); }
}

/* =================================================================
 Add City Card (Placeholder/CTA Card)
================================================================= */

.add-city-card {
border: 3px dashed #cbd5e1;
border-radius: 2rem;
height: 18rem;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
color: #94a3b8;
gap: 1rem;
transition: all 0.3s ease-in-out;
background: var(--color-light-text);
box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.add-city-card:hover {
border-color: var(--color-primary);
color: var(--color-primary);
background: rgba(59,130,246,0.1);
box-shadow: 0 10px 20px rgba(59,130,246,0.15);
transform: translateY(-3px);
}

.add-city-card .plus-circle {
width: 4rem;
height: 4rem;
border-radius: 9999px;
background: var(--color-gray-300);
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.add-city-card:hover .plus-circle {
background: var(--color-primary);
color: var(--color-light-text);
transform: rotate(90deg);
}

/* =================================================================
 Empty State (When no cities are tracked)
================================================================= */

.empty-state {
  grid-column: 1 / -1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
  color: #64748b;
  gap: 0.75rem;
}

.empty-icon {
  color: #94a3b8;
  margin-bottom: 0.5rem;
}

.empty-state h3 {
  font-size: 1.5rem;
  font-weight: 700;
}

/* =================================================================
 Modal Styles (AddCityModal)
================================================================= */

/* Backdrop (Dark, blurred overlay behind the modal) */
.modal-backdrop {
position: fixed;
inset: 0;
background: rgba(0,0,0,0.6);
backdrop-filter: blur(5px);
display: flex;
justify-content: center;
align-items: center;
z-index: 100;
animation: backdropFadeIn 0.3s ease; 
}

@keyframes backdropFadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

/* Modal Content Box (Pop-in animation) */
.modal-content {
background: var(--color-light-text);
border-radius: 1.5rem;
max-width: 28rem;
width: 90%;
padding: 2rem;
box-shadow: 0 10px 30px rgba(0,0,0,0.3);
animation: modalPopIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
display: flex;
flex-direction: column;
gap: 1.5rem;
}

@keyframes modalPopIn {
from { opacity: 0; transform: translateY(-50px) scale(0.9); }
to { opacity: 1; transform: translateY(0) scale(1); }
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-secondary);
}

.modal-close-btn {
  background: none;
  color: #94a3b8;
  font-size: 1.5rem;
  padding: 0.25rem;
  line-height: 1;
}
.modal-close-btn:hover {
  color: var(--color-secondary);
  transform: scale(1.1);
}

/* Search Input */
.search-input {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid var(--color-gray-300);
  border-radius: 0.75rem;
  font-size: 1rem;
  transition: border-color 0.3s, box-shadow 0.3s;
}

.search-input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
  outline: none;
}

/* Region Filter Buttons */
.regions-filter {
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;
  padding-bottom: 0.5rem;
  scrollbar-width: none;
}
.regions-filter::-webkit-scrollbar {
  display: none;
}

.region-btn {
  background: var(--color-gray-300);
  color: #475569;
  padding: 0.5rem 1rem;
  border-radius: 9999px;
  font-weight: 500;
  flex-shrink: 0;
}

.region-btn.active {
  background: var(--color-primary);
  color: var(--color-light-text);
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
}

.region-btn:hover:not(.active) {
  background: #cbd5e1;
}

/* City Selection List */
.city-list-container {
  max-height: 15rem;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding-right: 0.5rem;
}

.city-list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 0.75rem 1rem;
  background: var(--color-background);
  border-radius: 0.75rem;
  text-align: left;
  color: var(--color-secondary);
  font-weight: 500;
  transition: background-color 0.2s;
}

.city-list-item:hover {
  background: #eef2ff;
}

.city-list-icon {
  color: var(--color-primary);
}


/* =================================================================
 Responsive Adjustments
================================================================= */

@media (max-width: 768px) {
/* Tablet/Mid-Screen Adjustments */
.city-grid-wrapper {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
}
.main-grid {
  padding: 1.5rem;
}
.app-header {
  padding: 1rem 1.5rem; /* Reduced padding */
}
}

@media (max-width: 480px) {
/* Mobile Adjustments */
.app-header h1 {
  font-size: 1.25rem;
}
.app-header p {
  font-size: 0.75rem;
}
.add-city-btn {
  padding: 0.6rem 1rem;
  font-size: 0.875rem;
}
/* Smaller Cards */
.city-card {
  height: 16rem;
  border-radius: 1.5rem;
}
.card-content-wrapper {
  padding: 1.5rem;
}
.city-card .time {
  font-size: 3rem;
}
}